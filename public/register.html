<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Menji</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="menji.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  
  </head>
  


<body class="body">
  <nav class="navbar sticky-top border-bottom border-dark navbar-expand-lg navbar-light bg-white">
    <div class="container-fluid test d-flex">

      <button class="navbar-toggler me-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <a class="navbar-brand font-weight-bold mx-auto" href="menji.html">MENJI.</a>
      
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle drop" href="../clothing.html" id="navbarDropdownMenuLink" role="button" data-bs-hover="dropdown" aria-expanded="false">
              CLOTHING
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="tops.html">TOPS</a></li>
              <li><a class="dropdown-item" href="bottoms.html">BOTTOMS</a></li>
            </ul>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle drop" href="footwear.html" id="navbarDropdownMenuLink" role="button" data-bs-hover="dropdown" aria-expanded="false">
              FOOTWEAR
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="sneakers.html">SNEAKERS</a></li>
              <li><a class="dropdown-item" href="dressshoes.html">FORMAL SHOES</a></li>
              <li><a class="dropdown-item" href="boots.html">BOOTS</a></li>
            </ul>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle drop" href="../accessories.html" id="navbarDropdownMenuLink" role="button" data-bs-hover="dropdown" aria-expanded="false">
              ACCESSORIES
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="jewelry.html">JEWELRY</a></li>
              <li><a class="dropdown-item" href="wallet.html">WALLETS</a></li>
              <li><a class="dropdown-item" href="belts.html">BELTS</a></li>
            </ul>
          </li>
        </ul>

      </div>
      
      <div class="order-2">
        
        <ul class="navbar-nav flex-row align-items-center">

          <li class="nav-item d-block">
            <a class="nav-link register-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="green" class="bi bi-person-fill" viewBox="0 0 16 16">
              <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
            </svg></a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="cart.html"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
              <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg></a>
          </li>
        </ul>
      </div>

  </nav>


  <div class="vertical-center">

    <div class="container">
      <div class="row row-cols-1 row-cols-2 ">
        <div class="col border border-dark create pt-3 ">
          <p class="text-center register-text">CREATE</p>
        </div>
        <div class="col border border-dark signin pt-3 ">
          <p class="text-center register-text">SIGN IN</p>
        </div>
      </div>  

      <div class="row form-length">
        <div class="col border border-top-0 border-dark pt-3 ">
            <form class="create-block register row g-2">
              <div class="col-6 mb-3">
                <label for="validationDefault01" class="form-label font-weight-bold">FIRST NAME</label>
                <input type="text" class="form-control form-first-name" name="first_name">
              </div>
              <div class="col-6 mb-3">
                <label class="form-label font-weight-bold">LAST NAME</label>
                <input type="text" class="form-control form-last-name" name="last_name">
              </div>
              
              <div class="col-12 mb-3">
                <label class="form-label font-weight-bold">EMAIL ADDRESS</label>
                <input type="email" class="form-control form-email-signup" name="email">
              </div>
              <div class="col-12 mb-3">
                <label class="form-label font-weight-bold">PASSWORD</label>
                <input type="password" class="form-control form-password-signup" name="password">
              </div>
              <div class="col-12 mb-3">
                <label class="form-label font-weight-bold">CONFIRM PASSWORD</label>
                <input type="password" class="form-control form-confirm-signup">
              </div>
  
              <div class="col-12 text-center pt-4">
                <button type="submit" class="btn btn-block btn-dark signup-button">CONFIRM</button>
              </div>
            </form>

            <form class="login-block">
              <div class="mb-3">
                <label class="form-label font-weight-bold">EMAIL ADDRESS</label>
                <input type="email" class="form-control form-email-login" name="email">
              </div>
              <div class="mb-3">
                <label class="form-label font-weight-bold">PASSWORD</label>
                <input type="password" class="form-control form-password-login" name="password">
              </div>
  
              <div class="text-center pt-4">
                <button type="button " class="btn btn-block btn-dark login-button">LOG IN</button>
              </div>
            </form>

        </div>
      </div>
  </div>


  <div class="footer-spacing"></div>

  <footer class="page-footer font-small unique-color-dark pt-5">
    <div class="container-fluid">
      <ul class="list-unstyled list-inline text-center  border-top border-dark py-2">
        <li class="list-inline-item">
          <h5 class="pt-5 mb-1">MENJI</h5>
        </li>
      </ul>
    </div>
    <div class="footer-copyright text-center py-3">&#169 2021 MENJI. ALL RIGHTS RESERVED</div>
  </footer>


</body>

<script>

    


$(document).ready(function(){
  $(".login-button").click(function(e){
    let email = $(".form-email-login").val()
    let password = $(".form-password-login").val()
    e.preventDefault()
    if(email == "" || password == ""){
      alert("ENTER INFORMATION")
    }
    else{
      $.ajax({
          type: "POST",
          url: "/menji/login_user",
          data: JSON.stringify({ 
            "email": email,
            "password": password
          }),
          success: function(data) {
            try{
              let token = data._id
              localStorage.setItem("token", token)
              window.location.href = "menji.html"
            } catch (err){
              alert("Username or password is incorrect. Try again.")
            }
          },
          error: function(error){
          },
          contentType: "application/json",
          dataType: "json"
      }); 
      }
  })
})

$(document).ready(function(){
  $(".signup-button").click(function(e){

    let firstname = $(".form-first-name").val()
    let lastname = $(".form-last-name").val()
    let email = $(".form-email-signup").val()
    let password = $(".form-password-signup").val()
    e.preventDefault()
    if(email == "" || password == "" || firstname == "" || lastname == ""){
      alert("MISSING INFORMATION")
    }
    else{
      $.ajax({
          type: "POST",
          url: "/menji/register_user",
          data: JSON.stringify({
            "first_name": firstname,
            "last_name": lastname,    
            "email": email,
            "password": password
          }),
          success: function(data) {
              window.location.href = "menji.html"
          },
          error: function(error){
            
          },
          contentType: "application/json",
          dataType: "json"
      }); 
      }
  })
})
    





    $(".signin").click(function(){
        $(this).css("background", "white")
        $(".create").css("background", "#dcdcdd")
        $(".create-block").hide()
        $(".login-block").show()
        $(".form-length").css("height", "290px")
    })

    $(".create").click(function(){
        $(this).css("background", "white")
        $(".signin").css("background", "#dcdcdd")
        $(".create-block").show()
        $(".login-block").hide()
        $(".form-length").css("height", "460px")
    })

</script>


</html>